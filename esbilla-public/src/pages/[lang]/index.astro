---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Panoya from '../../components/icons/Panoya.astro';
import { useTranslations } from '../../i18n/utils';
import { languages } from '../../i18n/ui';

export function getStaticPaths() {
  return Object.keys(languages).map((lang) => ({ params: { lang } }));
}

const { lang } = Astro.params;
const t = useTranslations(lang as any);
---
<BaseLayout title={t('nav.home')} lang={lang}>
  
<section class="relative min-h-[80vh] flex items-center overflow-hidden rounded-[2rem] md:rounded-[4rem] mx-4 my-4">
    <div class="absolute inset-0 z-0">
      <img 
        src="/images/esbilla-pueblu.png" 
        alt="Xente trabayando n'andecha delantre d'un hórreo dixital" 
        class="w-full h-full object-cover"
      />
      <div class="absolute inset-0 bg-gradient-to-r from-madera/90 via-madera/40 to-transparent"></div>
    </div>

    <div class="relative z-10 max-w-5xl mx-auto px-8 w-full">
      <div class="max-w-2xl space-y-6">
        <span class="inline-block px-4 py-1 bg-maiz text-madera text-xs font-black uppercase tracking-widest rounded-full">
          {t('hero.tagline')}
        </span>
        <h1 class="text-5xl md:text-7xl font-artesana text-white leading-tight">
          {t('hero.title')} <br/>
          <span class="text-maiz italic">{t('hero.highlight')}</span>
        </h1>
        <p class="text-xl text-stone-200 leading-relaxed max-w-lg">
          {t('hero.description')}
        </p>
        <div class="pt-4 flex flex-wrap gap-4">
          <a href={`/${lang}/comunidad/`} class="bg-maiz text-madera px-10 py-4 rounded-xl font-black text-lg hover:scale-105 transition-transform shadow-xl shadow-maiz/20">
            {t('hero.cta')}
          </a>
          <a href="#proyeutu" class="bg-white/10 backdrop-blur-md text-white border border-white/20 px-10 py-4 rounded-xl font-bold hover:bg-white/20 transition-all">
            Saber más
          </a>
        </div>
      </div>
    </div>
  </section>


<section class="py-24 bg-fondu">
  <div class="max-w-4xl mx-auto px-6 space-y-12">
    
    <header>
      <h2 class="text-4xl md:text-5xl font-artesana text-madera mb-6" set:html={t('story.title')} />
      <div class="space-y-6 text-lg text-stone-600 leading-relaxed">
        <p set:html={t('story.intro')} />
        <p set:html={t('story.edu')} />
      </div>
    </header>

    <div class="space-y-4">
      <h3 class="text-2xl font-bold text-madera" set:html={t('story.esbillar.title')} />
      <p class="text-lg text-stone-600 leading-relaxed" set:html={t('story.esbillar.body')} />
    </div>

    <div class="space-y-4">
      <h3 class="text-2xl font-bold text-madera" set:html={t('story.moment.title')} />
      <p class="text-lg text-stone-600 leading-relaxed" set:html={t('story.moment.body')} />
    </div>

    <div class="space-y-6">
      <h3 class="text-2xl font-bold text-madera" set:html={t('story.open.title')} />
      <ul class="space-y-6">
        <li class="flex gap-4">
          <span class="text-maiz text-2xl">•</span>
          <p class="text-lg text-stone-600 leading-relaxed" set:html={t('story.open.andecha')} />
        </li>
        <li class="flex gap-4">
          <span class="text-maiz text-2xl">•</span>
          <p class="text-lg text-stone-600 leading-relaxed" set:html={t('story.open.horreo')} />
        </li>
      </ul>
    </div>

    <footer class="pt-8 border-t border-stone-200">
      <p class="text-xl font-medium text-madera italic" set:html={t('story.close')} />
    </footer>

  </div>
</section>


<section class="py-24 bg-stone-50 border-y border-stone-200">
  <div class="max-w-4xl mx-auto px-6">
    
    <header class="mb-16 text-center">
      <h2 class="text-4xl md:text-5xl font-artesana text-madera mb-6" set:html={t('manifesto.title')} />
      <p class="text-xl text-stone-700 italic max-w-2xl mx-auto" set:html={t('manifesto.intro')} />
    </header>

    <div class="grid md:grid-cols-2 gap-8">
      
      <article class="p-8 bg-white rounded-2xl border border-stone-200 shadow-sm">
        <h3 class="text-xl font-bold text-madera mb-3 flex items-center gap-2">
          <span class="w-2 h-2 bg-maiz rounded-full"></span>
          {t('manifesto.onpremise.title')}
        </h3>
        <p class="text-stone-600 leading-relaxed" set:html={t('manifesto.onpremise.desc')} />
      </article>

      <article class="p-8 bg-white rounded-2xl border border-stone-200 shadow-sm">
        <h3 class="text-xl font-bold text-madera mb-3 flex items-center gap-2">
          <span class="w-2 h-2 bg-maiz rounded-full"></span>
          {t('manifesto.andecha.title')}
        </h3>
        <p class="text-stone-600 leading-relaxed" set:html={t('manifesto.andecha.desc')} />
      </article>

      <article class="p-8 bg-white rounded-2xl border border-stone-200 shadow-sm">
        <h3 class="text-xl font-bold text-madera mb-3 flex items-center gap-2">
          <span class="w-2 h-2 bg-maiz rounded-full"></span>
          {t('manifesto.efficiency.title')}
        </h3>
        <p class="text-stone-600 leading-relaxed" set:html={t('manifesto.efficiency.desc')} />
      </article>

      <article class="p-8 bg-white rounded-2xl border border-stone-200 shadow-sm">
        <h3 class="text-xl font-bold text-madera mb-3 flex items-center gap-2">
          <span class="w-2 h-2 bg-maiz rounded-full"></span>
          {t('manifesto.ethics.title')}
        </h3>
        <p class="text-stone-600 leading-relaxed" set:html={t('manifesto.ethics.desc')} />
      </article>

    </div>

    <div class="mt-8 p-8 bg-madera rounded-2xl text-white shadow-xl">
      <h3 class="text-2xl font-artesana text-maiz mb-4">{t('manifesto.cost.title')}</h3>
      <p class="text-stone-300 text-lg" set:html={t('manifesto.cost.desc')} />
    </div>

  </div>
</section>

<section class="py-24 bg-white/40">
    <div class="max-w-7xl mx-auto px-6">
      <div class="text-center mb-16">
        <h2 class="text-4xl md:text-5xl font-artesana text-madera mb-4">{t('concepts.title')}</h2>
        <div class="w-24 h-1 bg-maiz mx-auto rounded-full"></div>
      </div>

      <div class="grid md:grid-cols-3 gap-12">
        <article class="space-y-4">
          <div class="w-12 h-12 bg-amber-100 rounded-xl flex items-center justify-center text-maiz">
             <Panoya size="24" /> </div>
          <h3 class="text-2xl font-bold text-madera">{t('concepts.cmp.title')}</h3>
          <p class="text-stone-600 leading-relaxed">{t('concepts.cmp.desc')}</p>
        </article>

        <article class="space-y-4">
          <div class="w-12 h-12 bg-amber-100 rounded-xl flex items-center justify-center text-maiz">
             <Panoya size="24" /> </div>
          <h3 class="text-2xl font-bold text-madera">{t('concepts.os.title')}</h3>
          <p class="text-stone-600 leading-relaxed">{t('concepts.os.desc')}</p>
        </article>

        <article class="space-y-4">
          <div class="w-12 h-12 bg-amber-100 rounded-xl flex items-center justify-center text-maiz">
             <Panoya size="24" /> </div>
          <h3 class="text-2xl font-bold text-madera">{t('concepts.gdpr.title')}</h3>
          <p class="text-stone-600 leading-relaxed">{t('concepts.gdpr.desc')}</p>
        </article>
      </div>
    </div>
  </section>

<section class="py-24 bg-stone-50 border-y border-stone-200">
  <div class="max-w-5xl mx-auto px-6">
    
    <div class="text-center mb-16 space-y-4">
      <h2 class="text-4xl md:text-5xl font-artesana text-madera">
        {t('compare.v2.title')}
      </h2>
      <p class="text-stone-700 max-w-2xl mx-auto text-lg">
        {t('compare.v2.subtitle')}
      </p>
    </div>

    <div class="bg-white rounded-3xl border border-stone-200 shadow-sm overflow-hidden">
      <div class="grid grid-cols-1 md:grid-cols-3 bg-stone-100/50 border-b border-stone-200 font-black uppercase text-[10px] tracking-widest text-stone-400">
        <div class="p-6 hidden md:block">{t('row.feature')}</div>
        <div class="p-6 text-center">{t('compare.commercial')}</div>
        <div class="p-6 text-center text-madera bg-maiz/10 border-l border-stone-200">{t('compare.esbilla')}</div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 border-b border-stone-100 group">
        <div class="p-6 md:border-r border-stone-100 flex items-center font-bold text-madera bg-stone-50/30">
          {t('row.deploy')}
        </div>
        <div class="p-6 flex items-center justify-center text-stone-700 italic">
          {t('row.deploy.comm')}
        </div>
        <div class="p-6 flex items-center justify-center font-bold text-madera bg-maiz/5 border-l border-stone-100 text-center">
          <div class="flex flex-col items-center gap-1">
            <span class="text-[10px] bg-madera text-white px-2 py-0.5 rounded-full mb-1">DOCKER</span>
            {t('row.deploy.esbilla')}
          </div>
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 border-b border-stone-100 group">
        <div class="p-6 md:border-r border-stone-100 flex items-center font-bold text-madera bg-stone-50/30">
          {t('row.privacy')}
        </div>
        <div class="p-6 flex items-center justify-center text-stone-700 italic">
          {t('row.privacy.comm')}
        </div>
        <div class="p-6 flex items-center justify-center font-bold text-madera bg-maiz/5 border-l border-stone-100 text-center italic">
          {t('row.privacy.esbilla')}
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 border-b border-stone-100 group">
        <div class="p-6 md:border-r border-stone-100 flex items-center font-bold text-madera bg-stone-50/30">
          {t('row.target')}
        </div>
        <div class="p-6 flex items-center justify-center text-stone-700 italic">
          {t('row.target.comm')}
        </div>
        <div class="p-6 flex items-center justify-center font-bold text-madera bg-maiz/5 border-l border-stone-100 text-center">
          {t('row.target.esbilla')}
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 group">
        <div class="p-6 md:border-r border-stone-100 flex items-center font-bold text-madera bg-stone-50/30">
          {t('row.cost')}
        </div>
        <div class="p-6 flex items-center justify-center text-stone-700 italic">
          {t('row.cost.comm')}
        </div>
        <div class="p-6 flex items-center justify-center font-bold text-madera bg-maiz/5 border-l border-stone-100 text-center italic">
          {t('row.cost.esbilla')}
        </div>
      </div>
    </div>

    <div class="mt-12 p-1 bg-madera rounded-[2rem]">
      <div class="bg-madera p-8 md:p-12 rounded-[1.8rem] text-white flex flex-col md:flex-row items-center gap-10">
        <div class="flex-1 space-y-4">
          <h3 class="text-3xl font-artesana text-maiz leading-none">Auto-allugamientu Docker</h3>
          <p class="text-stone-300 text-lg leading-relaxed">
            Esbilla CMP nun ye una caxa negra. Dexámoste les llaves del hórreo pa que lo instales nos tos propios servidores. Gobernanza real pa empreses que nun arrienden la so soberanía técnica.
          </p>
        </div>
        <div class="w-full md:w-auto">
          <div class="bg-black/30 backdrop-blur-md p-6 rounded-2xl border border-white/10 font-mono text-sm group">
            <div class="flex justify-between items-center mb-2">
              <span class="text-stone-700 text-[10px] uppercase font-bold tracking-widest">Terminal</span>
              <div class="flex gap-1.5">
                <div class="w-2 h-2 rounded-full bg-stone-700"></div>
                <div class="w-2 h-2 rounded-full bg-stone-700"></div>
              </div>
            </div>
            <code class="text-maiz flex flex-col">
              <span class="opacity-50 text-white"># Llevantar Esbilla CMP</span>
              <span class="group-hover:translate-x-1 transition-transform tracking-tight">docker run -d esbilla/cmp:latest</span>
            </code>
          </div>
        </div>
      </div>
    </div>

  </div>
</section>

  <section id="proyeutu" class="py-20 bg-stone-900 text-stone-100 rounded-[3rem] mx-4">
    <div class="max-w-5xl mx-auto px-6">
      <h2 class="text-4xl mb-16 text-center">{t('features.title')}</h2>
      <div class="grid md:grid-cols-3 gap-12">
        <div class="space-y-4">
          <Panoya class="text-amber-400" size="32" />
          <h3 class="text-xl font-bold">{t('feature.gov.title')}</h3>
          <p class="text-stone-400">{t('feature.gov.desc')}</p>
        </div>
        <div class="space-y-4">
          <Panoya class="text-amber-400" size="32" />
          <h3 class="text-xl font-bold">{t('feature.community.title')}</h3>
          <p class="text-stone-400">{t('feature.community.desc')}</p>
        </div>
        <div class="space-y-4">
          <Panoya class="text-amber-400" size="32" />
          <h3 class="text-xl font-bold">{t('feature.privacy.title')}</h3>
          <p class="text-stone-400">{t('feature.privacy.desc')}</p>
        </div>
      </div>
    </div>
  </section>

</BaseLayout>



