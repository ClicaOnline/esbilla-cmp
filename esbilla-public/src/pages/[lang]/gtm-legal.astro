---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { useTranslations } from '../../i18n/utils';
import { languages } from '../../i18n/ui';

export function getStaticPaths() {
  return Object.keys(languages).map((lang) => ({ params: { lang } }));
}

const { lang } = Astro.params;
const t = useTranslations(lang as any);
---

<BaseLayout title={t('gtm.legal.title')} lang={lang}>
  <!-- Hero Section -->
  <section class="relative min-h-[40vh] flex items-center overflow-hidden bg-gradient-to-br from-purple-50 via-white to-blue-50">
    <div class="relative z-10 max-w-5xl mx-auto px-8 w-full py-16">
      <div class="max-w-4xl space-y-6">
        <h1 class="text-4xl md:text-6xl font-artesana text-stone-900">
          {t('gtm.legal.title')}
        </h1>
        <p class="text-xl text-stone-600 leading-relaxed">
          {t('gtm.legal.subtitle')}
        </p>
      </div>
    </div>
  </section>

  <!-- Main Content -->
  <article class="max-w-4xl mx-auto px-8 py-16 prose prose-stone prose-lg">
    <!-- Intro -->
    <div class="bg-amber-50 border-l-4 border-amber-500 p-6 rounded-r-2xl mb-12">
      <p class="text-stone-700 leading-relaxed m-0" set:html={t('gtm.legal.intro')}></p>
    </div>

    <!-- Problem Section -->
    <section class="mb-16">
      <h2 class="text-3xl font-bold text-stone-900 mb-6">{t('gtm.legal.problem.title')}</h2>
      <p class="text-stone-600 mb-8" set:html={t('gtm.legal.problem.desc')}></p>

      <div class="space-y-6">
        <div class="bg-red-50 border-l-4 border-red-500 p-6 rounded-r-2xl">
          <h3 class="text-xl font-bold text-red-900 mb-2">{t('gtm.legal.problem.issue1.title')}</h3>
          <p class="text-red-800 m-0" set:html={t('gtm.legal.problem.issue1.desc')}></p>
        </div>

        <div class="bg-red-50 border-l-4 border-red-500 p-6 rounded-r-2xl">
          <h3 class="text-xl font-bold text-red-900 mb-2">{t('gtm.legal.problem.issue2.title')}</h3>
          <p class="text-red-800 m-0" set:html={t('gtm.legal.problem.issue2.desc')}></p>
        </div>

        <div class="bg-red-50 border-l-4 border-red-500 p-6 rounded-r-2xl">
          <h3 class="text-xl font-bold text-red-900 mb-2">{t('gtm.legal.problem.issue3.title')}</h3>
          <p class="text-red-800 m-0" set:html={t('gtm.legal.problem.issue3.desc')}></p>
        </div>
      </div>
    </section>

    <!-- Solution Section -->
    <section class="mb-16">
      <h2 class="text-3xl font-bold text-stone-900 mb-6">{t('gtm.legal.solution.title')}</h2>
      <p class="text-stone-600 mb-8" set:html={t('gtm.legal.solution.desc')}></p>

      <div class="space-y-6">
        <div class="bg-blue-50 border-l-4 border-blue-500 p-6 rounded-r-2xl">
          <h3 class="text-xl font-bold text-blue-900 mb-2">{t('gtm.legal.solution.step1.title')}</h3>
          <p class="text-blue-800 m-0" set:html={t('gtm.legal.solution.step1.desc')}></p>
        </div>

        <div class="bg-blue-50 border-l-4 border-blue-500 p-6 rounded-r-2xl">
          <h3 class="text-xl font-bold text-blue-900 mb-2">{t('gtm.legal.solution.step2.title')}</h3>
          <p class="text-blue-800 m-0" set:html={t('gtm.legal.solution.step2.desc')}></p>
        </div>

        <div class="bg-blue-50 border-l-4 border-blue-500 p-6 rounded-r-2xl">
          <h3 class="text-xl font-bold text-blue-900 mb-2">{t('gtm.legal.solution.step3.title')}</h3>
          <p class="text-blue-800 m-0" set:html={t('gtm.legal.solution.step3.desc')}></p>
        </div>

        <div class="bg-blue-50 border-l-4 border-blue-500 p-6 rounded-r-2xl">
          <h3 class="text-xl font-bold text-blue-900 mb-2">{t('gtm.legal.solution.step4.title')}</h3>
          <p class="text-blue-800 m-0" set:html={t('gtm.legal.solution.step4.desc')}></p>
        </div>
      </div>
    </section>

    <!-- Advantages Section -->
    <section class="mb-16">
      <h2 class="text-3xl font-bold text-stone-900 mb-4">{t('gtm.legal.advantages.title')}</h2>
      <p class="text-lg text-stone-600 mb-8">{t('gtm.legal.advantages.subtitle')}</p>

      <div class="space-y-6">
        <div class="bg-green-50 border-l-4 border-green-500 p-6 rounded-r-2xl">
          <h3 class="text-xl font-bold text-green-900 mb-2">{t('gtm.legal.advantage1.title')}</h3>
          <p class="text-green-800 m-0" set:html={t('gtm.legal.advantage1.desc')}></p>
        </div>

        <div class="bg-green-50 border-l-4 border-green-500 p-6 rounded-r-2xl">
          <h3 class="text-xl font-bold text-green-900 mb-2">{t('gtm.legal.advantage2.title')}</h3>
          <p class="text-green-800 m-0" set:html={t('gtm.legal.advantage2.desc')}></p>
        </div>

        <div class="bg-green-50 border-l-4 border-green-500 p-6 rounded-r-2xl">
          <h3 class="text-xl font-bold text-green-900 mb-2">{t('gtm.legal.advantage3.title')}</h3>
          <p class="text-green-800 m-0" set:html={t('gtm.legal.advantage3.desc')}></p>
        </div>

        <div class="bg-green-50 border-l-4 border-green-500 p-6 rounded-r-2xl">
          <h3 class="text-xl font-bold text-green-900 mb-2">{t('gtm.legal.advantage4.title')}</h3>
          <p class="text-green-800 m-0" set:html={t('gtm.legal.advantage4.desc')}></p>
        </div>

        <div class="bg-green-50 border-l-4 border-green-500 p-6 rounded-r-2xl">
          <h3 class="text-xl font-bold text-green-900 mb-2">{t('gtm.legal.advantage5.title')}</h3>
          <p class="text-green-800 m-0" set:html={t('gtm.legal.advantage5.desc')}></p>
        </div>
      </div>
    </section>

    <!-- Comparison Section -->
    <section class="mb-16">
      <h2 class="text-3xl font-bold text-stone-900 mb-8">{t('gtm.legal.comparison.title')}</h2>

      <div class="grid md:grid-cols-2 gap-8">
        <!-- Traditional -->
        <div class="bg-red-50 rounded-2xl p-8 border-2 border-red-200">
          <h3 class="text-2xl font-bold text-red-900 mb-6">{t('gtm.legal.comparison.traditional.title')}</h3>
          <ul class="space-y-4">
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-red-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/>
              </svg>
              <span class="text-red-800">{t('gtm.legal.comparison.traditional.point1')}</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-red-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/>
              </svg>
              <span class="text-red-800">{t('gtm.legal.comparison.traditional.point2')}</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-red-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/>
              </svg>
              <span class="text-red-800">{t('gtm.legal.comparison.traditional.point3')}</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-red-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/>
              </svg>
              <span class="text-red-800">{t('gtm.legal.comparison.traditional.point4')}</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-red-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/>
              </svg>
              <span class="text-red-800">{t('gtm.legal.comparison.traditional.point5')}</span>
            </li>
          </ul>
        </div>

        <!-- Esbilla -->
        <div class="bg-green-50 rounded-2xl p-8 border-2 border-green-200">
          <h3 class="text-2xl font-bold text-green-900 mb-6">{t('gtm.legal.comparison.esbilla.title')}</h3>
          <ul class="space-y-4">
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-green-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
              </svg>
              <span class="text-green-800">{t('gtm.legal.comparison.esbilla.point1')}</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-green-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
              </svg>
              <span class="text-green-800">{t('gtm.legal.comparison.esbilla.point2')}</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-green-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
              </svg>
              <span class="text-green-800">{t('gtm.legal.comparison.esbilla.point3')}</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-green-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
              </svg>
              <span class="text-green-800">{t('gtm.legal.comparison.esbilla.point4')}</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-green-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
              </svg>
              <span class="text-green-800">{t('gtm.legal.comparison.esbilla.point5')}</span>
            </li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Jurisprudence Section -->
    <section class="mb-16">
      <h2 class="text-3xl font-bold text-stone-900 mb-6">{t('gtm.legal.jurisprudence.title')}</h2>
      <p class="text-stone-600 mb-8">{t('gtm.legal.jurisprudence.desc')}</p>

      <div class="space-y-6">
        <div class="bg-purple-50 border-l-4 border-purple-500 p-6 rounded-r-2xl">
          <p class="text-purple-900 m-0" set:html={t('gtm.legal.jurisprudence.cnil')}></p>
        </div>

        <div class="bg-purple-50 border-l-4 border-purple-500 p-6 rounded-r-2xl">
          <p class="text-purple-900 m-0" set:html={t('gtm.legal.jurisprudence.aepd')}></p>
        </div>

        <div class="bg-purple-50 border-l-4 border-purple-500 p-6 rounded-r-2xl">
          <p class="text-purple-900 m-0" set:html={t('gtm.legal.jurisprudence.garante')}></p>
        </div>
      </div>
    </section>

    <!-- Conclusion Section -->
    <section class="mb-16">
      <h2 class="text-3xl font-bold text-stone-900 mb-6">{t('gtm.legal.conclusion.title')}</h2>
      <p class="text-stone-600 mb-8" set:html={t('gtm.legal.conclusion.desc')}></p>

      <ul class="space-y-4 mb-8">
        <li class="flex items-start gap-3">
          <svg class="w-6 h-6 text-amber-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
          </svg>
          <span class="text-stone-700">{t('gtm.legal.conclusion.point1')}</span>
        </li>
        <li class="flex items-start gap-3">
          <svg class="w-6 h-6 text-amber-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
          </svg>
          <span class="text-stone-700">{t('gtm.legal.conclusion.point2')}</span>
        </li>
        <li class="flex items-start gap-3">
          <svg class="w-6 h-6 text-amber-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
          </svg>
          <span class="text-stone-700">{t('gtm.legal.conclusion.point3')}</span>
        </li>
        <li class="flex items-start gap-3">
          <svg class="w-6 h-6 text-amber-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
          </svg>
          <span class="text-stone-700">{t('gtm.legal.conclusion.point4')}</span>
        </li>
      </ul>

      <div class="bg-amber-50 border-2 border-amber-500 p-8 rounded-2xl">
        <p class="text-lg text-amber-900 font-semibold m-0">{t('gtm.legal.cta')}</p>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="text-center bg-gradient-to-br from-purple-100 to-blue-100 rounded-3xl p-12 -mx-8">
      <h2 class="text-3xl font-bold text-stone-900 mb-6">
        ¿Listo para Implementar el Modo GTM?
      </h2>
      <p class="text-lg text-stone-600 mb-8 max-w-2xl mx-auto">
        Empieza a usar Esbilla con la arquitectura legal más robusta del mercado
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a
          href={`/${lang}/lista-espera`}
          target="_blank"
          class="inline-flex items-center justify-center gap-2 px-8 py-4 bg-purple-600 text-white rounded-2xl font-bold text-lg hover:bg-purple-700 transition-colors shadow-lg hover:shadow-xl"
        >
          Ir al Dashboard
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
          </svg>
        </a>
        <a
          href={`/${lang}/como-empezar`}
          class="inline-flex items-center justify-center gap-2 px-8 py-4 bg-white text-purple-600 rounded-2xl font-bold text-lg hover:bg-stone-50 transition-colors border-2 border-purple-600"
        >
          Guía de Inicio
        </a>
      </div>
    </section>
  </article>
</BaseLayout>
