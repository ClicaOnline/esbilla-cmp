---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { useTranslations } from '../../i18n/utils';
import { languages } from '../../i18n/ui';
import { Image } from 'astro:assets';
import esbillaPuebluImg from '../../../public/images/esbilla-pueblu.png';
import Panoya from '../../components/icons/Panoya.astro'; //

const { lang } = Astro.params;
const t = useTranslations(lang as any);

export function getStaticPaths() {
  return Object.keys(languages).map((lang) => ({ params: { lang } }));
}

const ways = [
  { title: 'comm.ways.code.title', desc: 'comm.ways.code.desc' },
  { title: 'comm.ways.trans.title', desc: 'comm.ways.trans.desc' },
  { title: 'comm.ways.design.title', desc: 'comm.ways.design.desc' },
  { title: 'comm.ways.test.title', desc: 'comm.ways.test.desc' },
  { title: 'comm.ways.features.title', desc: 'comm.ways.features.desc' },
  { title: 'comm.ways.legal.title', desc: 'comm.ways.legal.desc' },
];

---
<BaseLayout title="Comunidad" lang={lang}>
  <section class="relative min-h-[60vh] flex items-center overflow-hidden rounded-[3rem] mx-4 my-4">
    <div class="absolute inset-0 z-0">
      <Image 
        src={esbillaPuebluImg} 
        alt="Andecha Background: Pueblu asturianu ente montes"
        class="w-full h-full object-cover"
        width={1920} 
        height={1080} 
        format="webp" 
        quality={"mid"} 
        loading="eager"
        fetchpriority="high"
      />
      <div class="absolute inset-0 bg-gradient-to-r from-[#2D3426]/95 via-[#2D3426]/70 to-transparent"></div>
    </div>

    <div class="relative z-10 max-w-5xl mx-auto px-8 w-full">
      <div class="max-w-2xl space-y-6">
        <h1 class="text-5xl md:text-7xl font-artesana text-white">
          {t('community.hero.title')} <br/>
          <span class="text-maiz italic">{t('community.hero.highlight')}</span>
        </h1>
        <p class="text-xl text-stone-200 leading-relaxed">
          {t('community.hero.desc')}
        </p>
        <div class="flex gap-4">
          <a href="https://github.com/ClicaOnline/esbilla-cmp" class="bg-white text-madera px-8 py-4 rounded-xl font-black flex items-center gap-3 hover:bg-maiz transition-colors">
             <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
             {t('community.link')}
          </a>
        </div>
      </div>
    </div>
  </section>

  <section class="py-24 bg-white">
  <div class="max-w-7xl mx-auto px-6">
    <header class="text-center mb-16">
      <h2 class="text-4xl md:text-5xl font-artesana text-madera mb-4">{t('comm.ways.title')}</h2>
      <p class="text-stone-600 max-w-2xl mx-auto">{t('comm.ways.subtitle')}</p>
    </header>

    <!-- Contributing Guide Banner -->
    <div class="mb-12 p-6 bg-gradient-to-r from-amber-50 to-orange-50 border-2 border-amber-200 rounded-2xl">
      <div class="flex flex-col md:flex-row items-center justify-between gap-4">
        <div class="flex-1 text-center md:text-left">
          <h3 class="text-lg font-bold text-madera mb-2 flex items-center justify-center md:justify-start gap-2">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
            </svg>
            Guía Completa de Contribución
          </h3>
          <p class="text-stone-600 text-sm">
            Lee nuestra guía detallada con instrucciones paso a paso, guías de estilo y mejores prácticas.
          </p>
        </div>
        <a
          href="https://github.com/ClicaOnline/esbilla-cmp/blob/main/CONTRIBUTING.md"
          target="_blank"
          rel="noopener noreferrer"
          class="inline-flex items-center gap-2 px-6 py-3 bg-madera text-white rounded-xl font-bold hover:bg-amber-600 transition-all hover:scale-105 whitespace-nowrap"
        >
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/>
          </svg>
          Ver CONTRIBUTING.md
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>
          </svg>
        </a>
      </div>
    </div>

    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
      {ways.map((way) => (
        <article class="p-8 rounded-2xl border border-stone-200 hover:border-maiz transition-colors group bg-stone-50/50">
          <div class="w-10 h-10 mb-6 text-maiz transition-transform group-hover:rotate-12">
            <Panoya size="40" /> </div>
          <h3 class="text-xl font-bold text-madera mb-3">{t(way.title)}</h3>
          <p class="text-stone-600 leading-relaxed text-sm">{t(way.desc)}</p>
        </article>
      ))}
    </div>

    <div class="mt-16 p-10 bg-madera rounded-3xl text-center text-white">
      <h3 class="text-2xl font-artesana text-maiz mb-4">¿Tienes otra idea?</h3>
      <p class="text-stone-300 mb-8">Si tienes una forma distinta d'ayudar que nun tea na llista, escríbenos n'andecha.</p>
      <a href="mailto:esbilla@clicaonline.com" class="inline-block bg-maiz text-madera px-8 py-3 rounded-xl font-bold hover:scale-105 transition-transform">
        Unite al coleutivu
      </a>
    </div>
  </div>
</section>

</BaseLayout>