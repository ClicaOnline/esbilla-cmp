<!DOCTYPE html>
<html lang="ast">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Esbilla CMP - API</title>
  <meta name="description" content="Esbilla CMP - Plataforma de GestiÃ³n de Consentimiento de Cookies">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸŒ½</text></svg>">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #FFF8E1 0%, #FFE0B2 100%);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      color: #1C1917;
    }

    /* Language selector */
    .lang-selector {
      position: absolute;
      top: 1rem;
      right: 1rem;
      display: flex;
      gap: 0.5rem;
      background: white;
      padding: 0.5rem;
      border-radius: 0.5rem;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .lang-btn {
      padding: 0.25rem 0.75rem;
      border: none;
      background: transparent;
      cursor: pointer;
      border-radius: 0.25rem;
      font-size: 0.875rem;
      transition: background 0.2s;
    }

    .lang-btn:hover {
      background: #FEF3C7;
    }

    .lang-btn.active {
      background: #FFBF00;
      color: #1C1917;
      font-weight: 600;
    }

    /* Main content */
    main {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 2rem;
      text-align: center;
    }

    .logo {
      font-size: 5rem;
      margin-bottom: 1rem;
      animation: bounce 2s ease-in-out infinite;
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    h1 {
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
      color: #1C1917;
    }

    .subtitle {
      font-size: 1.25rem;
      color: #57534E;
      margin-bottom: 2rem;
    }

    .description {
      max-width: 600px;
      line-height: 1.7;
      color: #44403C;
      margin-bottom: 2.5rem;
      font-size: 1.1rem;
    }

    /* Cards */
    .cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
      max-width: 900px;
      width: 100%;
      margin-bottom: 3rem;
    }

    .card {
      background: white;
      border-radius: 1rem;
      padding: 1.5rem;
      text-decoration: none;
      color: inherit;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: transform 0.2s, box-shadow 0.2s;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }

    .card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 24px rgba(0,0,0,0.12);
    }

    .card-icon {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }

    .card-title {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: #1C1917;
    }

    .card-desc {
      font-size: 0.9rem;
      color: #57534E;
      line-height: 1.5;
    }

    /* Features */
    .features {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .feature {
      background: white;
      padding: 0.5rem 1rem;
      border-radius: 2rem;
      font-size: 0.875rem;
      color: #57534E;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }

    /* Footer */
    footer {
      text-align: center;
      padding: 1.5rem;
      color: #78716C;
      font-size: 0.875rem;
    }

    footer a {
      color: #D97706;
      text-decoration: none;
    }

    footer a:hover {
      text-decoration: underline;
    }

    /* API Status */
    .status {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      background: #ECFDF5;
      color: #059669;
      padding: 0.5rem 1rem;
      border-radius: 2rem;
      font-size: 0.875rem;
      margin-bottom: 2rem;
    }

    .status-dot {
      width: 8px;
      height: 8px;
      background: #10B981;
      border-radius: 50%;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    /* Hidden by default */
    [data-lang] {
      display: none;
    }

    [data-lang].active {
      display: block;
    }

    .cards [data-lang].active,
    .features [data-lang].active {
      display: flex;
    }
  </style>
</head>
<body>
  <!-- Language Selector -->
  <div class="lang-selector">
    <button class="lang-btn active" data-select-lang="ast">ğŸŒ½ Ast</button>
    <button class="lang-btn" data-select-lang="es">ğŸ‡ªğŸ‡¸ Es</button>
    <button class="lang-btn" data-select-lang="en">ğŸ‡¬ğŸ‡§ En</button>
  </div>

  <main>
    <div class="logo">ğŸŒ½</div>
    <h1>Esbilla CMP</h1>

    <!-- Subtitles -->
    <p class="subtitle" data-lang="ast">Plataforma de XestiÃ³n de Consentimientu</p>
    <p class="subtitle" data-lang="es">Plataforma de GestiÃ³n de Consentimiento</p>
    <p class="subtitle" data-lang="en">Consent Management Platform</p>

    <!-- Status -->
    <div class="status">
      <span class="status-dot"></span>
      <span data-lang="ast">API activa</span>
      <span data-lang="es">API activa</span>
      <span data-lang="en">API online</span>
    </div>

    <!-- Descriptions -->
    <p class="description" data-lang="ast">
      Esbilla ye una soluciÃ³n de cÃ³digu abiertu pa xestionar el consentimientu de cookies
      cumpliendo col RGPD y la ePrivacy. Permite a los usuarios esbillar quÃ© cookies acepten
      y proporciona un panel d'alministraciÃ³n pa ver estadÃ­stiques y exercer los drechos ARCO.
    </p>
    <p class="description" data-lang="es">
      Esbilla es una soluciÃ³n de cÃ³digo abierto para gestionar el consentimiento de cookies
      cumpliendo con el RGPD y la ePrivacy. Permite a los usuarios elegir quÃ© cookies aceptan
      y proporciona un panel de administraciÃ³n para ver estadÃ­sticas y ejercer los derechos ARCO.
    </p>
    <p class="description" data-lang="en">
      Esbilla is an open-source solution for managing cookie consent
      complying with GDPR and ePrivacy. It allows users to choose which cookies to accept
      and provides an admin panel to view statistics and exercise ARCO rights.
    </p>

    <!-- Cards -->
    <div class="cards">
      <!-- Home Card -->
      <a href="https://esbilla.com" class="card" data-lang="ast">
        <span class="card-icon">ğŸ </span>
        <span class="card-title">PÃ¡xina Principal</span>
        <span class="card-desc">Visita la web d'Esbilla pa saber mÃ¡s sobre'l proyeutu y cÃ³mo integralu na to web.</span>
      </a>
      <a href="https://esbilla.com" class="card" data-lang="es">
        <span class="card-icon">ğŸ </span>
        <span class="card-title">PÃ¡gina Principal</span>
        <span class="card-desc">Visita la web de Esbilla para saber mÃ¡s sobre el proyecto y cÃ³mo integrarlo en tu web.</span>
      </a>
      <a href="https://esbilla.com" class="card" data-lang="en">
        <span class="card-icon">ğŸ </span>
        <span class="card-title">Home Page</span>
        <span class="card-desc">Visit Esbilla's website to learn more about the project and how to integrate it.</span>
      </a>

      <!-- Test Card -->
      <a href="/test.html" class="card" data-lang="ast">
        <span class="card-icon">ğŸ§ª</span>
        <span class="card-title">PÃ¡xina de Prueba</span>
        <span class="card-desc">Prueba'l banner de cookies en acciÃ³n. Ve cÃ³mo s'amuesa y funciona'l SDK.</span>
      </a>
      <a href="/test.html" class="card" data-lang="es">
        <span class="card-icon">ğŸ§ª</span>
        <span class="card-title">PÃ¡gina de Prueba</span>
        <span class="card-desc">Prueba el banner de cookies en acciÃ³n. Ve cÃ³mo se muestra y funciona el SDK.</span>
      </a>
      <a href="/test.html" class="card" data-lang="en">
        <span class="card-icon">ğŸ§ª</span>
        <span class="card-title">Test Page</span>
        <span class="card-desc">Test the cookie banner in action. See how the SDK displays and works.</span>
      </a>

      <!-- Dashboard Card -->
      <a href="/dashboard/" class="card" data-lang="ast">
        <span class="card-icon">ğŸ“Š</span>
        <span class="card-title">Panel d'AlministraciÃ³n</span>
        <span class="card-desc">Accede al dashboard pa ver estadÃ­stiques, xestionar usuarios y configurar el banner.</span>
      </a>
      <a href="/dashboard/" class="card" data-lang="es">
        <span class="card-icon">ğŸ“Š</span>
        <span class="card-title">Panel de AdministraciÃ³n</span>
        <span class="card-desc">Accede al dashboard para ver estadÃ­sticas, gestionar usuarios y configurar el banner.</span>
      </a>
      <a href="/dashboard/" class="card" data-lang="en">
        <span class="card-icon">ğŸ“Š</span>
        <span class="card-title">Admin Dashboard</span>
        <span class="card-desc">Access the dashboard to view statistics, manage users and configure the banner.</span>
      </a>
    </div>

    <!-- Features -->
    <div class="features">
      <span class="feature" data-lang="ast">âœ“ CÃ³digu abiertu</span>
      <span class="feature" data-lang="ast">âœ“ Cumplimientu RGPD</span>
      <span class="feature" data-lang="ast">âœ“ Google Consent Mode V2</span>
      <span class="feature" data-lang="ast">âœ“ Drechos ARCO</span>
      <span class="feature" data-lang="ast">âœ“ Multi-idioma</span>

      <span class="feature" data-lang="es">âœ“ CÃ³digo abierto</span>
      <span class="feature" data-lang="es">âœ“ Cumplimiento RGPD</span>
      <span class="feature" data-lang="es">âœ“ Google Consent Mode V2</span>
      <span class="feature" data-lang="es">âœ“ Derechos ARCO</span>
      <span class="feature" data-lang="es">âœ“ Multi-idioma</span>

      <span class="feature" data-lang="en">âœ“ Open source</span>
      <span class="feature" data-lang="en">âœ“ GDPR compliant</span>
      <span class="feature" data-lang="en">âœ“ Google Consent Mode V2</span>
      <span class="feature" data-lang="en">âœ“ ARCO rights</span>
      <span class="feature" data-lang="en">âœ“ Multi-language</span>
    </div>
  </main>

  <footer>
    <span data-lang="ast">Fechu con ğŸŒ½ n'Asturies Â· </span>
    <span data-lang="es">Hecho con ğŸŒ½ en Asturias Â· </span>
    <span data-lang="en">Made with ğŸŒ½ in Asturias Â· </span>
    <a href="https://github.com/ClicaOnline/esbilla-cmp" target="_blank">GitHub</a>
  </footer>

  <script>
    // Language management
    const STORAGE_KEY = 'esbilla-api-lang';
    const DEFAULT_LANG = 'ast';

    function detectLanguage() {
      // Check localStorage first
      const stored = localStorage.getItem(STORAGE_KEY);
      if (stored && ['ast', 'es', 'en'].includes(stored)) {
        return stored;
      }
      // Detect from browser
      const browserLang = navigator.language.split('-')[0];
      if (['es', 'en'].includes(browserLang)) {
        return browserLang;
      }
      return DEFAULT_LANG;
    }

    function setLanguage(lang) {
      // Save preference
      localStorage.setItem(STORAGE_KEY, lang);
      document.documentElement.lang = lang;

      // Update buttons
      document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.toggle('active', btn.dataset.selectLang === lang);
      });

      // Update content
      document.querySelectorAll('[data-lang]').forEach(el => {
        el.classList.toggle('active', el.dataset.lang === lang);
      });
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      // Set initial language
      setLanguage(detectLanguage());

      // Language button clicks
      document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          setLanguage(btn.dataset.selectLang);
        });
      });
    });
  </script>
</body>
</html>
